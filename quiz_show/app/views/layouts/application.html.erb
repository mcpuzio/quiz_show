<!DOCTYPE html>
<html5>
<head>
  <title>QuizShow</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>

  <%= csrf_meta_tags %>
</head>
<body>
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<ul class="nav navbar-nav navbar-left">
				<li><%= link_to "Home", root_path %></li>
				<li><%= link_to "About", root_path %></li>
			</ul>
			<ul class="nav navbar-nav navbar-right">
				<li><%= link_to "Sign In", root_path %></li>
				<li><%= link_to "Sign Out", root_path %></li>
			</ul>
		</div>
	</nav>
	<div class="jumbotron">
		<div id="play_now"><b>PLAY NOW</b></div>
	</div>

<!-- alerts will go in here -->
<%= yield %>

</body>
</html>
<script >
	

var currentPage = 0;
var myQuiz = [
["Why is life so difficult?","Javascript","Ruby on Rails","Testing","GitHub",4],
["When under stress, what is Willis's go to phrase?","WTF","Please God, just work","I hate my life!","Jen, make this work!",2],
["Famous Tennis Player?","Roger Federer","Michael Jackson","Charlie Sheen","Michael Puzio",1]

];
console.log(myQuiz.length)
document.getElementById("next").addEventListener("click", moveNext);
document.getElementById("previous").addEventListener("click", moveBack);
var progressBar = document.getElementById("progressBar");
var myQuestion = document.getElementById("questions");
var myHeader = document.getElementById("quizHeader");
var classname = document.getElementsByClassName("answer");
checkPage();

for (var i = 0; i < classname.length; i++) {
	classname[i].addEventListener('click',myAnswer, false);
}

function myAnswer() {
	var idAnswer = this.getAttribute("data-id");
	document.getElementById("page1").innerHTML = 'Answer' + idAnswer;
}

function moveNext() {
	if(currentPage < (myQuiz.length-1) ){
		currentPage++;
		checkPage(currentPage);
	}else{
		console.log('end of quiz Page' + currentPage);
	}
}
function checkPage(i){
	//add and removing buttons if no more questions
	if(currentPage==0){
		previous.classList.add("hide");
	}else{previous.classList.remove("hide");}

	if( (currentPage+1)<(myQuiz.length)){
	next.classList.remove("hide");
	}else{next.classList.add("hide");}


	

	console.log(currentPage+1);
	myHeader.innerHTML = myQuiz[currentPage][0];
	for (var i = 0; i < myQuestion.children.length;i++){
	var curNode = myQuestion.children[i];
	console.log(curNode.childNodes[1].innerHTML);
	curNode.childNodes[1].innerHTML = myQuiz[currentPage][i+1];
	}
	//updating progress bar
	var increment = Math.ceil((currentPage)/(myQuiz.length)*100);
	progressBar.style.width = (increment)+ '%';
	progressBar.innerHTML=(increment)+ '%';
}

function moveBack() {
	if(currentPage > 0 ){
		currentPage--;
		checkPage(currentPage);
	}else{
		console.log('end of quiz Page' + currentPage);
	}
}


</script>